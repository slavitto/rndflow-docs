# Интерфейс проекта

**Интерфейс** - графический интерфейс управление проектом, предназначеный для предоставления пользователю возможности управления проектом без непосредственного взаимодействия с графом проекта.

Интерфейс представляет собой совокупность визуальных [виджетов](#типы-виджетов).

Для использования интерфейса необходимо:

- Выбрать необходимый интерфейс непосредственно в списке в [панели управления проектом][4].

  или

- Щелкнуть по плитке соответствующего интерфейса в разделе <span class="iconify-inline" data-icon="mdi:view-dashboard-edit"></span>**Интерфейсы** в [панели управления проектом][4].

Отображаемый интерфейс готов к использованию.

![Interface](/images/common/interface.png)

## Плитка интерфейса

Плитки доступных интерфейсов отображаются в разделе <span class="iconify-inline" data-icon="mdi:view-dashboard-edit"></span>**Интерфейсы** в [панели управления проектом][4].

![Interface panel](/images/common/interface_panel.png)

1. Текущий логотип - щелчок по нему открывает выбранный интерфейс.
2. Редактируемая иконка интерфейса, с которой интерфейс отображается в [панели управления проектом][4].
3. Редактируемое название
4. Редактируемое описание
5. <span class="iconify-inline" data-icon="bi:toggle2-off"></span> Переключатель видимости - позволяет убрать интерфейс с панели управления проектом
6. <span class="iconify-inline" data-icon="mdi:image"></span>ВЫБЕРИТЕ ЛОГОТИП - изменения логотипа
7. <span class="iconify-inline" data-icon="mdi:delete"></span> Удаление интерфейса
8. <span class="iconify-inline" data-icon="mdi:view-dashboard"></span> [Редактор интерфейса](#редактор)

## Типы виджетов

- **Текст** - отображение простого текста.

- **Markdown** - отображение текста в формате [Markdown][1].[Примеры markdown][2]

- **Загрузка пакета** - создание/загрузка пакета в выбранный узел проекта.

  Также позволяет задать необходимые значения [параметров узла][5] при их наличии.

- **Файл пакета** - отображение одного из файлов последнего по времени пакета в заданном узле.

- **Прогресс** - отображение прогресса выполнения проекта в виде последовательности шагов.

- **Вложенный интерфейс** - отображение выбранного интерфейса во вложенном виджете.

- **Параметры узла** - отображение и задание [параметров узла][5] при их наличии.

- **Пакеты узла** - отображение списка и управление пакетами выбранного узла.

- **Вкладки** - отображение выбранных интерфейсов в отдельных вкладках.

- **Менеджер узлов в виде иерархического дерева** - отображение и управление выбранными узлами в виде дерева.

## Редактор

### Описание

- Для перехода в режим редактирования необходимо нажать в правом нижнем углу кнопку экрана <span class="iconify-inline" data-icon="mdi:view-dashboard-edit" style="color: white; background-color: red"></span>.

- Для выхода из режима редактирования необходимо нажать в правом нижнем углу экрана кнопку <span class="iconify-inline" data-icon="mdi:eye" style="color: white; background-color: red"></span>.

![Interface edit mode](/images/common/interface_edit.png)

Структура:

![Interface edit mode](/images/common/interface_edit_small.png)

1. Редактируемая иконка, с которой интерфейс отображается в [панели управления проектом][4].
2. Редактируемое название
3. <span class="iconify-inline" data-icon="mdi:view-grid-plus"></span> Кнопка добавления нового виджета.
4. Добавленный виджет

Каждый добавленый виджет состоит из:

5. <span class='iconify-inline' data-icon='mdi:drag'></span> Кнопка перемещения виджета по экрану.
6. Название
7. Название [типа](#типы-виджетов)
8. <span class="iconify-inline" data-icon="mdi:pencil"></span> Кнопка редактирование виджета
9. <span class="iconify-inline" data-icon="mdi:delete"></span> Кнопка удаление виджета
10. <span class="iconify-inline" data-icon="mdi:help-circle"></span> Опциональная кнопка справки виджета
11. Тела виджета с отображением всех его компонент.

### Добавление виджета

- Нажать на кнопку <span class="iconify-inline" data-icon="mdi:view-grid-plus"></span> добавления виджета.

- Ввести название виджета.

  ![Widget add](/images/common/interface_edit_add_widget.png)

- Перейти на вкладку **НАСТРОЙКИ** и после выбора [типа](#типы-виджетов) виджета задать [настройки выбранного типа](#настроики-виджетов) виджета.

  ![Widget set params](/images/common/interface_edit_add_widget_params.png)

- Перейти на вкладку **СПРАВКА** и задать:

  - Положение иконки справки
  - Информационное описание назначения или использования виджета

  ![Widget set help](/images/common/interface_edit_add_widget_help.png)

- Перейти на вкладку **ШИРИНА** и задать ширину виджета для различных размеров экрана.

  ![Widget set widht](/images/common/interface_edit_add_widget_width.png)

### Настройки виджетов

- **Текст**

  Отображаемый текст вводится в поле заголовка [вкладки][3] **ОБЩЕЕ**.

- **Markdown**

  Отображаемый текст в формате [Markdown][1] вводится в [вкладке][3] **НАСТРОЙКИ** в:

  - Markdown - редактор ввода текста с **ПРЕДПРОСМОТР**ом

- **Загрузка пакета**

  Для настройки в [вкладке][3] **НАСТРОЙКИ** необходимо задать:

  - Узел - поле ввода узла, в который загружается пакет <span class="iconify-inline" data-icon="mdi:magnify"></span>
  - <span class="iconify-inline" data-icon="bi:toggle2-off"></span> Разрешить или запретить прикреплять файлы - переключатель разрешения/запрета прикрепления файлов к пакету.

- **Файл пакета**

  Для настройки в [вкладке][3] **НАСТРОЙКИ** необходимо задать:

  - Узел - поле ввода узла, из которого будет отображаться пакет <span class="iconify-inline" data-icon="mdi:magnify"></span>.
  - Шаблон имени файла - шаблон для выбора файла, должен использоваться [синтаксис регулярных выражений](https://developer.mozilla.org/ru/Web/JavaScript/Reference/Global_Objects/RegExp) JavaScript.

- **Прогресс** - отображение прогресса выполнения проекта в виде последовательности шагов.

  Для настройки в [вкладке][3] **НАСТРОЙКИ** необходимо задать:

  - Шаги <span class="iconify-inline" data-icon="mdi:add"></span> - добавление очередного шага (этапа) прогресса выполнения.

    После нажатия открывается окно для заполнения параметров этапа:

    - Иконка шага из библиотеки [material design icons](https://icon-sets.iconify.design/mdi/)
    - Имя шага
    - Узел <span class="iconify-inline" data-icon="mdi:magnify"></span> - добавление узла, к которому привязано выполнение шага.

      Отслеживается появление нового пакета в указанном узле.

    - Описание этапа

  - <span class="iconify-inline" data-icon="bi:toggle2-off"></span> Вертикально - переключатель размещения виджета: горизонтальное или вертикальное
  - Редактируемая таблица с добавленными шагами и возможностью перемещения <span class="iconify-inline" data-icon="mdi:drag"></span> порядка шагов.

- **Вложенный интерфейс**

  Для настройки в [вкладке][3] **НАСТРОЙКИ** необходимо задать:

  - Выпадающий список <span class="iconify-inline" data-icon="mdi:menu-down"></span> с доступными интерфейсами.

- **Параметры узла**

  Для настройки в [вкладке][3] **НАСТРОЙКИ** необходимо задать:

  - Узел - поле ввода узла, параметры которого необходимо отображать.

- **Пакеты узла**

  Для настройки в [вкладке][3] **НАСТРОЙКИ** необходимо задать:

  - Узел - поле ввода узла, пакеты которого необходимо отображать <span class="iconify-inline" data-icon="mdi:magnify"></span>
  - <span class="iconify-inline" data-icon="bi:toggle2-off"></span>  Игнорировать мастер-пакет - переключатель разрешения/запрета показа всех пакетов или только текущего мастер пакета.
 
- **Вкладки**

  Для настройки в [вкладке][3] **НАСТРОЙКИ** необходимо задать:

  - Выпадающий список <span class="iconify-inline" data-icon="mdi:menu-down"></span> с доступными интерфейсами.

- **Менеджер узлов в виде иерархического дерева**

  Для настройки в [вкладке][3] **НАСТРОЙКИ** необходимо задать:

  - Уровни <span class="iconify-inline" data-icon="mdi:add"></span> - добавление уровня дерева.

    После нажатия открывается окно для заполнения параметров уровня:

    - Иконка уровня из библиотеки [material design icons](https://icon-sets.iconify.design/mdi/)
    - Название уровня
    - Фильтр узлов - [регулярное выражение](https://ru.wikipedia.org/wiki/Регулярные_выражения) для выбора узлов уровня, применяемое к названию узла. После ввода выражения соответствующие ему узлы отображаются ниже.
      > Примеры: abc или abc|cba или ^abc$
    - Описание уровня

  - Таблица с переченем заданных уровней с возможностью редактирования.

### Описание работы с виджетами

- **Менеджер узлов в виде иерархического дерева**

  Менеджер узлов состоит из:
  - Панель инструментов
    - Кнопка <span class="iconify-inline" data-icon="mdi: arrow-expand-up"></span> развертывания всех уровней таблицы
  - Дерево
    - Уровни дерева

  Уровень дерева состоит из:
  - Иконка уровня
  - Кнопка <span class="iconify-inline" data-icon="mdi:menu"/> для открытия меню управления уровнем
  - Узел 
    > Вместе с узлом могут отображаться:
      >- Верхний ярлык зеленого цвета <span class='iconify-inline' data-icon='ph:number-square-one-fill' style="color: green"></span>- информирует о количествe пакетов в узле.
      >- Верхний ярлык красного цвета <span class='iconify-inline' data-icon='ph:number-circle-one-fill' style="color: red"></span>- информирует о наличии заданий с ошибками.
      >- Нижний ярлык зеленого цвета <span class='iconify-inline' data-icon='ph:number-circle-one-fill' style="color: green"></span> - информирует о количестве исполняемых заданий. 
  - Открываемой кнопкой <span class="iconify-inline" data-icon="mdi:menu"/> панели управления уровнем и узлом

  Команды панели управления узла:
  - Кнопка <span class="iconify-inline" data-icon="mdi:eye-outline"/> - открыть [панель управления][6] соответствующего узла
  - Кнопка <span class="iconify-inline" data-icon="mdi:link-variant"/> -  открыть [панель свойств связи][7] между данным узлом и узлом верхнего уровня (отсутствует для узлов верхнего уровня)
  - Кнопка <span class="iconify-inline" data-icon="mdi:plus-circle-outline"/> - добавить связь между узлом текущего уровня и узлом нижележающего уровня из выпадающего списка (отсутствует для узлов последнего уровня)
  - Кнопка <span class="iconify-inline" data-icon="mdi:minus-circle-outline"/> - удалить связь между текущим узлом и узлом верхнего уровня (отсутствует для узлов верхнего уровня)
  - Переключатель активности узла <span class="iconify-inline" data-icon="bi:toggle2-off"></span>






[1]: https://daringfireball.net/projects/markdown/
[2]: https://quasarframework.github.io/quasar-ui-qmarkdown/examples
[3]: #добавление-виджета
[4]: ./project.md#панель-управления-проектом
[5]: /desc/node_params.md
[6]: /desc/nodes.html#панели-узла
[7]: /desc/links.html#своиства
