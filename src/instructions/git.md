# Git

Версионное хранение реализовано на основе [Git поддержки в платформе][1].

::: warning <span class='iconify' data-icon='emojione-v1:warning' style='color: #e7c000; font-size: 24px;'></span>
Пользователь, совершающий операции, должен иметь соответствующие [разрешения][2].
:::

::: warning <span class='iconify' data-icon='emojione-v1:warning' style='color: #e7c000; font-size: 24px;'></span>
Целевой Git репозиторий должен быть предварительно создан пользователем.
:::

::: tip <span class='iconify' data-icon='mdi:information' style='color: #42b983; font-size: 24px;'></span>
С видео примером можно ознакомиться в разделе [видео](./video.md).
:::

## Подключить проект

- [Открыть][3] необходимый проект.

- В [панели управления проектом][4] выбрать <span class="iconify-inline" data-icon="mdi:git"></span>**История проекта** для перехода в раздел **Синхронизация с Git**.

- В поле ввода **Адрес репозитория Git (в формате SSH)** ввести адрес существующего удаленного репозитория.

  > Пример: git@github.com:user/project.git

- Сохранить адрес нажатием кнопки <span class='iconify-inline' data-icon='mdi:content-save'></span>

- Нажать на кнопку <span class='iconify-inline' data-icon='mdi:key'></span> **СКОПИРОВАТЬ ПУБЛИЧНЫЙ SSH КЛЮЧ** - для копировать в буфер обмена публичного SSH ключа.

- [Добавить ключ развертывания][5] в целевом репозитории.

### Добавление ключей развертывания

#### GitHub

Ключ, возвращаемый кнопкой <span class='iconify-inline' data-icon='mdi:key'></span> **СКОПИРОВАТЬ ПУБЛИЧНЫЙ SSH КЛЮЧ**, должен быть добавлен разделе **Settings** проекта в качестве ключа развертывания (Deploy key) с правами на запись (<span class="iconify-inline" data-icon="mdi:checkbox-marked" style="color: blue"></span>Allow write access) в соответствующий [GitHub][6] репозиторий.

![Git](/images/common/git_keys.png)

## Сохранить новую версию

- [Открыть][3] необходимый проект.

- В [панели управления проектом][4] выбрать <span class="iconify-inline" data-icon="mdi:git"></span>**История проекта** для перехода в раздел **Синхронизация с Git**.

- В разделе **Сохранить текущее состояние проекта** ввести:
  - Краткое описание версии
  - Расширенное описание версии (необязательно)
  - Нажать кнопку **СОХРАНИТЬ**.
  - Дождаться появления новой версии в **История изменений** (добавление происходит асинхронно в фоновом режиме).

## Восстановить версию

::: tip <span class='iconify' data-icon='mdi:information' style='color: #42b983; font-size: 24px;'></span>
Восстановление ранних версий проекта, в которых отсутствуют позднее созданные узлы, безопасно. Пакеты и задачи этих узлов не будут удалены из проекта.
:::

::: danger <span class='iconify' data-icon='gg:danger' style='color: #cc0000; font-size: 24px;'></span>
Внимание! Если узел был удален пользователем самостоятельно, то при восстановлении версии, которая содержит данный узел, узел будет восстановлен без пакетов и заданий!
:::

- [Открыть][3] необходимый проект.

- В [панели управления проектом][4] выбрать <span class="iconify-inline" data-icon="mdi:git"></span>**История проекта** для перехода в раздел **Синхронизация с Git**.

- В разделе **История изменений** выбрать необходимую версию.
- Нажать кнопку <span class='iconify-inline' data-icon='mdi:backup-restore'></span> восстановления версии.
- Нажать кнопку **ОК** в диалоге подтверждения восстановления версии.
- Дождаться завершения операции (добавление происходит асинхронно в фоновом режиме).

[1]: /docs/desc/git.md
[2]: /docs/desc/git.md#разрешения
[3]: ./project.md#открытие-проекта
[4]: /docs/desc/project.md#панель-управления-проектом
[5]: #добавление-ключеи-развертывания
[6]: htts://github.com
